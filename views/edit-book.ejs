<%- include('partials/header') %>
<%- include('partials/navbar') %>

<div class="container">
    <h1 style="margin-bottom: 20px; display: inline-block; color: rgb(255, 255, 255); font-weight: bold; text-decoration: none;  text-shadow: 2px 2px 4px rgb(0, 0, 0); padding: 8px; border-radius: 5px;">Edit Book</h1>

    <form action="/books/edit/<%= book.id %>?_method=PUT" method="POST">
        <div class="form-group">
            <label for="title"><i class="fas fa-book"></i> Book Title</label>
            <input type="text" id="title" name="title" value="<%= book.title %>" required>
        </div>

        <div class="form-group">
            <label for="author"><i class="fas fa-user-edit"></i> Author</label>
            <input type="text" id="author" name="author" value="<%= book.author %>" required>
        </div>

        <div class="form-group">
            <label for="rating"><i class="fas fa-star"></i> Rating (1-5)</label>
            <input type="number" id="rating" name="rating" min="1" max="5" value="<%= book.rating %>" required>
            <div class="rating-stars">
                <% for(let i = 1; i <= 5; i++) { %>
                    <i class="<%= i <= book.rating ? 'fas' : 'far' %> fa-star" data-rating="<%= i %>"></i>
                <% } %>
            </div>
        </div>

        <div class="form-group">
            <label for="date_read"><i class="far fa-calendar-alt"></i> Date Read</label>
            <input type="date" id="date_read" name="date_read" value="<%= book.date_read %>" required>
        </div>

        <div class="form-group">
            <label for="review"><i class="fas fa-comment-alt"></i> Your Review</label>
            <textarea id="review" name="review" rows="5"><%= book.review %></textarea>
        </div>

        <div class="form-actions">
            <button type="submit">Update Book</button>
            <a href="/books">Cancel</a>
        </div>
    </form>
</div>

<%- include('partials/footer') %>